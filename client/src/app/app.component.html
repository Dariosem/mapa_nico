
<div class="container">
    <div class="jumbotron my-4" *ngIf="!identity">
        <h2 class="display-4">Gestión de loteos</h2>
        <p class="lead">Sistema de gestión de loteos en desarrollo</p>
        <hr class="my-4">
        <p>Para poder utilizar el sistema es necesario ingresar con usuario y contraseña</p>
        
        <div class="row">
            <div class="col-md-4">
                <h3>Identificate</h3>
                <div class="alert alert-info" *ngIf='errorMessage'>
                    <p>{{ errorMessage }}</p>
                </div>
                <!------------------ Formulario de Login ----------------->
                <form #loginForm="ngForm" (ngSubmit)='onSubmit()'>
                    <p>
                        <label>Correo electrónico:</label>
                        <input type="email" #email="ngModel" [(ngModel)]='user.email' name="email" class="form-control" required>
                        <span *ngIf='!email.valid && email.touched'>
                        El email es obligatorio
                        </span>
                    </p>
                    
                    <p>
                        <label>Contraseña:</label>
                        <input type="password" #password='ngModel' [(ngModel)]='user.password' name="password" class="form-control" required>
                        <span *ngIf='!password.valid && password.touched'>
                        La contraseña es obligatoria
                        </span>
                    </p>
                    <p>
                        <input type="submit" name="password" class="btn btn-default" value="Ingresar">
                    </p>
                </form>
            </div>
        
            <!------------------ Formulario de Registro ----------------->
            
            <div class="col-md-6 offset-1 border-left border-default">
                <h3>Registrate</h3>
                <div class="alert alert-info" *ngIf='alertRegister'>
                    <p>{{ alertRegister }}</p>
                </div>
                <form #registerForm='ngForm'  (submit)='onSubmitRegister()'>
                    <p>
                        <label>Nombre:</label>
                        <input type="text" #name='ngModel' [(ngModel)]='user_register.name' name="name" class="form-control" required>
                        <span *ngIf='!name.valid && name.touched'>
                        El nombre es obligatorio
                        </span>
                    </p>
                    <p>
                        <label>Apellido:</label>
                        <input type="text" #surname='ngModel' [(ngModel)]='user_register.surname' name="surname" class="form-control" required>
                        <span *ngIf='!surname.valid && surname.touched'>
                        El apellido es obligatorio
                        </span>
                    </p>
                    <p>
                        <label>Correo electrónico:</label>
                        <input type="text" #email='ngModel' [(ngModel)]='user_register.email' name="email" class="form-control" required>
                        <span *ngIf='!email.valid && email.touched'>
                        El correo electrónico es obligatorio
                        </span>
                    </p>
                    <p>
                        <label>Contraseña:</label>
                        <input type="password" #password='ngModel' [(ngModel)]='user_register.password' name="password" class="form-control" required>
                        <span *ngIf='!password.valid && password.touched'>
                        La contraseña es obligatoria
                        </span>
                    </p>
                    <p>
                        <input type="submit" name="password" class="btn btn-default" value="Registrarse">
                    </p>
                </form>
            </div>
        </div>
    </div>
    <div>
        <router-outlet></router-outlet>
        <button class="btn btn-default offset-11" (click)="logout()" *ngIf="identity">Salir</button>
    </div>
</div>

